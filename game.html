<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
    <!--<script src="/func/game.js" type="javascript"></script>
    <script src="/func/scenes/mainMenu.js" type="javascript"></script>
    <script src="/func/scenes/numberOfTeams.js" type="javascript"></script>
    <script src="/func/scenes/playerView.js" type="javascript"></script>-->
</head>

<body>
    <script type="text/javascript">

        var mainMenu = new Phaser.Class({

            Extends: Phaser.Scene,

            initialize:

                function mainMenu() {
                    Phaser.Scene.call(this, 'mainMenu');
                },

            create: function () {
                this.add.text(10, 10, 'How to Fail Your Research Degree', { font: '36px Courier', fill: '#29379b' });
                this.add.text(10, 50, "Start Game", { font: "30px Courier", fill: "#3260b5" }).setInteractive().on("pointerdown", () => this.scene.start('numberOfTeams'));
                this.events.on('shutdown', this.shutdown, this); //what does this do?
            },

            shutdown: function () {
                //  We need to clear keyboard events, or they'll stack up when the mainMenu is re-run
                this.input.keyboard.shutdown();
            }
        });

        var numberOfTeams = new Phaser.Class({

            Extends: Phaser.Scene,

            initialize:

                function numberOfTeams() {
                    Phaser.Scene.call(this, 'numberOfTeams');
                },

            create: function () {
                this.add.text(10, 50, 'How many teams are playing?', { font: '30px Courier', fill: '#29379b' });
                this.add.text(10, 100, "Two teams", {font: "20px Courier", fill: "#3260b5"}).setInteractive().on("pointerdown", () => this.scene.start('playerView'));
                this.add.text(10, 145, "Three teams", {font: "20px Courier", fill: "#3260b5"}).setInteractive().on("pointerdown", () => this.scene.start('playerView'));
                this.add.text(10, 190, "Four teams", {font: "20px Courier", fill: "#3260b5"}).setInteractive().on("pointerdown", () => this.scene.start('playerView'));
            }

        });

        var playerView = new Phaser.Class({
            Extends: Phaser.Scene,

            initialize:
                function playerView() {
                    Phaser.Scene.call(this, 'playerView');
                },

            create: function () {
                    const x = this.cameras.main.centerX;
                    const y = this.cameras.main.centerY;
                    const displayWidth = this.cameras.main.displayWidth;
                    const displayHeight = this.cameras.main.displayHeight;

                    // Game board components
                    this.add.rectangle(x, y, displayWidth, displayHeight, 0xa9e3ff);    //background
                    this.add.rectangle(x, y * 0.83, displayWidth * 0.98, displayHeight * 0.8, 0x3260b5);  //playing board
                    this.add.rectangle(x, y * 1.95, displayWidth, displayHeight * 0.2, 0x29379b); //toolbar
                    this.add.rectangle(x, y * 1.76, displayWidth * 0.22, displayHeight * 0.2, 0x36d8a2); //card
            }
        });

        var config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            backgroundColor: '0xa9e3ff',
            scene: [mainMenu, numberOfTeams, playerView]
        };

        var game = new Phaser.Game(config);

    </script>

</body>

</html>